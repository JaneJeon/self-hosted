tls:
  certificates:
    - keyFile: /mnt/certs/janejeon.dev/privkey.pem
      certFile: /mnt/certs/janejeon.dev/fullchain.pem
    - keyFile: /mnt/certs/nariahn.com/privkey.pem
      certFile: /mnt/certs/nariahn.com/fullchain.pem
    - keyFile: /mnt/certs/homelab-wildcard/privkey.pem
      certFile: /mnt/certs/homelab-wildcard/fullchain.pem

http:
  middlewares:
    floc:
      headers:
        customResponseHeaders:
          Permissions-Policy: interest-cohort=()
    gzip:
      compress: {}
    no-www: # stripping https://www.blah -> https://blah
      redirectRegex:
        regex: ^(?:https://)?(?:www\.)?(.+)
        replacement: https://${1}
        permanent: true
    sso-proxy:
      forwardauth:
        address: http://authelia:9091/api/verify?rd=https://auth.janejeon.com
        trustForwardHeader: true
        authResponseHeaders:
          - Remote-User
          - Remote-Groups
          - Remote-Name
          - Remote-Email
