version: '3'

services:
  redis:
    image: redis:6-alpine
    container_name: redis
    restart: always
    networks:
      - private
    expose:
      - 6379
    labels:
      com.datadoghq.ad.check_names: '["redisdb"]'
      com.datadoghq.ad.init_configs: '[{}]'
      com.datadoghq.ad.instances: '[{"host": "redis", "port": 6379}]'
      com.datadoghq.ad.logs: '[{"source": "redis", "service": "redis"}]'

networks:
  private:
    external: true
